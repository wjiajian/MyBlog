## Unstructured
è¿™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¼€æºåº“ï¼Œæ—¨åœ¨ä»ä»»æ„æ ¼å¼ï¼ˆPDF, Word, PPT, HTML, Images, Emoils...ï¼‰ä¸­æå–å¹²å‡€çš„æ–‡æœ¬, è‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ç±»å‹ï¼Œè‡ªåŠ¨å¤„ç†åˆ†å—ï¼ˆpartitionï¼‰ï¼Œè‡ªåŠ¨ OCRã€‚

å®ƒçš„æ ¸å¿ƒç†å¿µæ˜¯ï¼š**â€œä½ ä¸éœ€è¦å…³å¿ƒæ–‡ä»¶æ ¼å¼ï¼Œåªéœ€ç»™æˆ‘æ–‡ä»¶ï¼Œæˆ‘è¿˜ä½ ç»“æ„åŒ–çš„æ•°æ®ã€‚â€**

### 1. æ ¸å¿ƒä¼˜åŠ¿ï¼šä¸ºä»€ä¹ˆé€‰ Unstructuredï¼Ÿ

ä¼ ç»Ÿçš„åº“ï¼ˆå¦‚ `PyPDF2` æˆ– `python-docx`ï¼‰é€šå¸¸åªç»™ä½ ä¸€å †æ··ä¹±çš„å­—ç¬¦ä¸²ã€‚è€Œ `Unstructured` ä¼šåšä»¥ä¸‹å‡ ä»¶é«˜çº§çš„äº‹ï¼š

1.  **å½’ä¸€åŒ–æ¥å£**ï¼šæ— è®ºæ˜¯ `.pdf`, `.docx`, `.html`, `.ppt`, `.jpg`, ç”šè‡³ `.eml` (é‚®ä»¶)ï¼Œéƒ½ç”¨åŒä¸€ä¸ªå‡½æ•° `partition()` å¤„ç†ã€‚
2.  **è¯­ä¹‰åˆ†å— (Semantic Elements)**ï¼šå®ƒä¸ä¼šæŠŠæ•´ä¸ªæ–‡æ¡£è¯»æˆä¸€ä¸ªé•¿å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯å°†å…¶æ‹†åˆ†ä¸ºæœ‰æ„ä¹‰çš„â€œå…ƒç´  (Elements)â€ï¼Œä¾‹å¦‚ï¼š
    *   `Title` (æ ‡é¢˜)
    *   `NarrativeText` (æ­£æ–‡æ®µè½)
    *   `ListItem` (åˆ—è¡¨é¡¹)
    *   `Table` (è¡¨æ ¼)
3.  **æ™ºèƒ½ç­–ç•¥**ï¼šé’ˆå¯¹ PDFï¼Œå®ƒæ”¯æŒ OCRï¼ˆå…‰å­¦å­—ç¬¦è¯†åˆ«ï¼‰å’Œå¯¹è±¡æ£€æµ‹ï¼ˆè¯†åˆ«å›¾ç‰‡ä¸­çš„è¡¨æ ¼ï¼‰ã€‚
4.  **å…ƒæ•°æ® (Metadata)**ï¼šæ¯ä¸ªæå–å‡ºçš„å…ƒç´ éƒ½åŒ…å«é¡µç ã€æ–‡ä»¶åã€åæ ‡ä½ç½®ç­‰ä¿¡æ¯ï¼ˆè¿™å¯¹ RAG çš„â€œå¼•ç”¨æº¯æºâ€è‡³å…³é‡è¦ï¼‰ã€‚

---
>Unstructured åŠŸèƒ½å¼ºå¤§ï¼Œå› æ­¤ä¾èµ–åŒ…éå¸¸é‡ã€‚å¦‚æœä¸æ­£ç¡®å®‰è£…ï¼Œå¤„ç† PDF å’Œå›¾åƒæ—¶å¾ˆå®¹æ˜“æŠ¥é”™ã€‚
>ä¸ºäº†å¤„ç† PDF å’Œå›¾ç‰‡ï¼ˆOCRï¼‰ï¼Œéœ€è¦å®‰è£…é Python çš„å·¥å…·ï¼š**Tesseract å’Œ Poppler**

## ğŸ› ï¸ Windows ä¸‹çš„ç¯å¢ƒé…ç½®æŒ‡å— (Scoop æ–¹æ¡ˆ)

**é€‚ç”¨åœºæ™¯ï¼š** ä¸º Python çš„ `Unstructured`ã€`PaddleOCR` æˆ– `pdf2image` åº“é…ç½®åº•å±‚çš„ Tesseract (OCR) å’Œ Poppler (PDF æ¸²æŸ“) ä¾èµ–ã€‚

### 1. å®‰è£…åŒ…ç®¡ç†å™¨ Scoop
æ‰“å¼€ **PowerShell**ï¼ˆæ— éœ€ç®¡ç†å‘˜æƒé™ï¼‰ï¼Œä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```powershell
# 1. è®¾ç½®å…è®¸æ‰§è¡Œè„šæœ¬
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser

# 2. ä¸‹è½½å¹¶å®‰è£… Scoop
irm get.scoop.sh | iex
```

### 2. ä¸€é”®å®‰è£…ä¾èµ–å·¥å…·
ç»§ç»­åœ¨ PowerShell ä¸­æ‰§è¡Œï¼š

```powershell
# 1. æ·»åŠ æ‰©å±•åº“ (extras bucket åŒ…å«æˆ‘ä»¬è¦çš„å·¥å…·)
scoop bucket add extras

# 2. åŒæ—¶å®‰è£… Tesseract å’Œ Poppler
scoop install tesseract poppler
```

### 3. é…ç½®ä¸­æ–‡ OCR æ”¯æŒ (å…³é”®æ­¥éª¤)
é»˜è®¤ Tesseract åªæœ‰è‹±æ–‡åº“ï¼Œè§£æä¸­æ–‡ PDF/å›¾ç‰‡éœ€è¦æ‰‹åŠ¨æ·»åŠ ä¸­æ–‡æ•°æ®åŒ…ã€‚

1.  **ä¸‹è½½æ•°æ®åŒ…ï¼š**
    ä¸‹è½½ `chi_sim.traineddata` (ç®€ä½“ä¸­æ–‡)ï¼š
    *   å®˜æ–¹ä¸‹è½½åœ°å€: [GitHub - tessdata_best](https://github.com/tesseract-ocr/tessdata_best/blob/main/chi_sim.traineddata)
2.  **æ”¾å…¥æŒ‡å®šç›®å½•ï¼š**
    å°†ä¸‹è½½çš„æ–‡ä»¶æ”¾å…¥ä»¥ä¸‹æ–‡ä»¶å¤¹ï¼ˆ`<ä½ çš„ç”¨æˆ·å>` éœ€æ›¿æ¢ï¼‰ï¼š
    `C:\Users\<ä½ çš„ç”¨æˆ·å>\scoop\apps\tesseract\current\tessdata`

### 4. éªŒè¯å®‰è£…
**æ³¨æ„ï¼š** å®‰è£…å®Œæˆåï¼ŒåŠ¡å¿… **é‡å¯** ç»ˆç«¯ï¼ˆPowerShell æˆ– CMDï¼‰ä»¥åŠ è½½ç¯å¢ƒå˜é‡ã€‚

```powershell
# 1. æ£€æŸ¥ Tesseract ç‰ˆæœ¬
tesseract --version
# è¾“å‡ºåº”åŒ…å« tesseract v5.x.x

# 2. æ£€æŸ¥ä¸­æ–‡åº“æ˜¯å¦è¯†åˆ«
tesseract --list-langs
# è¾“å‡ºåˆ—è¡¨åº”åŒ…å« chi_sim

# 3. æ£€æŸ¥ Poppler (pdftoppm)
pdftoppm -h
# è¾“å‡ºåº”æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

---

### é™„å½•: partition()æ–¹æ³•å¸¸ç”¨å‚æ•°è¯´æ˜

`unstructured.partition` æ¨¡å—æ˜¯ Unstructured åº“çš„æ ¸å¿ƒï¼Œç”¨äºä»å„ç§æ–‡æ¡£ç±»å‹ä¸­æå–ç»“æ„åŒ–å…ƒç´ ã€‚ä»¥ä¸‹æ˜¯ `partition` æ–¹æ³•çš„ä¸€äº›å¸¸ç”¨å‚æ•°ï¼š

*   `filename` (str, optional): æœ¬åœ°æ–‡ä»¶çš„è·¯å¾„ã€‚å½“å¤„ç†æœ¬åœ°å­˜å‚¨çš„æ–‡æ¡£æ—¶ä½¿ç”¨ã€‚
*   `url` (str, optional): è¿œç¨‹æ–‡ä»¶çš„ URLã€‚å½“å¤„ç†ç½‘ç»œä¸Šçš„æ–‡æ¡£æ—¶ä½¿ç”¨ã€‚
*   `text` (str, optional): ç›´æ¥ä½œä¸ºå­—ç¬¦ä¸²ä¼ å…¥çš„æ–‡æœ¬å†…å®¹ã€‚é€‚ç”¨äºå¤„ç†å†…å­˜ä¸­çš„æ–‡æœ¬ã€‚
*   `content_type` (str, optional): æ–‡ä»¶çš„ MIME ç±»å‹ï¼Œä¾‹å¦‚ `application/pdf`, `text/html`ã€‚æœ‰åŠ©äº Unstructured æ›´å‡†ç¡®åœ°è¯†åˆ«æ–‡ä»¶ç±»å‹ã€‚
*   `strategy` (str, optional): æå–ç­–ç•¥ï¼Œå¯é€‰å€¼åŒ…æ‹¬ `"fast"`, `"hi_res"`ã€‚
    *   `"fast"`: é€Ÿåº¦è¾ƒå¿«ï¼Œä½†å¯èƒ½åœ¨å¤æ‚å¸ƒå±€çš„æ–‡æ¡£ä¸Šè¡¨ç°ä¸ä½³ã€‚
    *   `"hi_res"`: ä½¿ç”¨æ›´å¤æ‚çš„æ¨¡å‹ï¼ˆå¦‚ detectron2ï¼‰ï¼Œåœ¨å¤„ç†å¤æ‚æ–‡æ¡£ï¼ˆå¦‚æ‰«æçš„ PDFã€å›¾åƒï¼‰æ—¶æ•ˆæœæ›´å¥½ï¼Œä½†é€Ÿåº¦è¾ƒæ…¢ã€‚
*   `languages` (list of str, optional): æŒ‡å®š OCR è¯†åˆ«æ—¶ä½¿ç”¨çš„è¯­è¨€åˆ—è¡¨ï¼Œä¾‹å¦‚ `["eng", "chi_sim"]`ã€‚åœ¨ä½¿ç”¨ OCR ç­–ç•¥æ—¶éå¸¸é‡è¦ã€‚